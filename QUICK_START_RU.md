# 1C WebClient - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## üì¶ –ß—Ç–æ —ç—Ç–æ?

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –±–∞–∑ 1–° –ø—Ä—è–º–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Nextcloud.

---

## ‚ö° –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –®–∞–≥ 1: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä Nextcloud

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∞—Ä—Ö–∏–≤ –∏ —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp one_c_web_client_deploy.tar.gz user@your-server:/tmp/
scp deploy.sh user@your-server:/tmp/
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å —Ñ–∞–π–ª–∞–º–∏
cd /tmp

# –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x deploy.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É
sudo ./deploy.sh one_c_web_client_deploy.tar.gz
```

**–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- ‚úÖ –ù–∞–π–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É Nextcloud
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- ‚úÖ –†–∞—Å–ø–∞–∫—É–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ OCC
- ‚úÖ –û—á–∏—Å—Ç–∏—Ç –∫—ç—à

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—ã 1–°

1. –û—Ç–∫—Ä–æ–π—Ç–µ Nextcloud –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí 1C WebClient**
4. –î–æ–±–∞–≤—å—Ç–µ –±–∞–∑—ã:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ:** `–ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è`
   - **URL:** `https://192.168.1.100/buh/`
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### –®–∞–≥ 4: –ì–æ—Ç–æ–≤–æ!

–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –º–µ–Ω—é Nextcloud –∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –±–∞–∑—ã 1–°.

---

## üîß –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–ï—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –®–∞–≥ 1: –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é apps –≤–∞—à–µ–≥–æ Nextcloud
cd /path/to/nextcloud/apps/

# –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤
sudo tar -xzf /–ø—É—Ç—å/–∫/–∞—Ä—Ö–∏–≤—É/one_c_web_client_deploy.tar.gz

# –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
sudo mv nc1c one_c_web_client
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ www-data –Ω–∞ –≤–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
sudo chown -R www-data:www-data one_c_web_client

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞
sudo find one_c_web_client -type d -exec chmod 755 {} \;
sudo find one_c_web_client -type f -exec chmod 644 {} \;
```

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é Nextcloud
cd /path/to/nextcloud

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
sudo -u www-data php occ app:install one_c_web_client

# –í–∫–ª—é—á–∏—Ç–µ
sudo -u www-data php occ app:enable one_c_web_client

# –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à
sudo -u www-data php occ maintenance:repair
```

---

## ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ |
|-----------|------------|
| **Nextcloud** | –í–µ—Ä—Å–∏—è 31 –∏–ª–∏ 32 |
| **PHP** | 7.4 –∏–ª–∏ –≤—ã—à–µ |
| **1–°** | HTTPS (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!) |
| **–î–æ—Å—Ç—É–ø** | Nextcloud ‚Üí 1–° (—Å–µ—Ç—å) |

---

## üö® –ï—Å–ª–∏ 1–° –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ Mixed Content

**–ü—Ä–∏—á–∏–Ω–∞:** 1–° –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ HTTP, –∞ Nextcloud –ø–æ HTTPS

**–†–µ—à–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTPS –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ 1–°

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å HTTPS
curl -kI https://192.168.1.100/base1c/

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: HTTP/2 200 OK
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

**–ü—Ä–∏—á–∏–Ω–∞:** –°–µ—Ä–≤–µ—Ä 1–° –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
ping 192.168.1.100
telnet 192.168.1.100 443

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑-–ø–æ–¥ www-data
sudo -u www-data curl -kI https://192.168.1.100/base1c/
```

### –ü—Ä–æ–±–ª–µ–º–∞: CSP –±–ª–æ–∫–∏—Ä—É–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –î–æ–º–µ–Ω 1–° –Ω–µ –≤ –±–µ–ª–æ–º —Å–ø–∏—Å–∫–µ

**–†–µ—à–µ–Ω–∏–µ:** –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª:

```bash
sudo nano /path/to/nextcloud/apps/one_c_web_client/lib/Controller/PageController.php
```

–î–æ–±–∞–≤—å—Ç–µ –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ `$csp = new ContentSecurityPolicy();`:

```php
$csp->addAllowedFrameDomain('https://192.168.1.100');
$csp->addAllowedScriptDomain('https://192.168.1.100');
```

–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à:

```bash
sudo -u www-data php occ maintenance:repair
```

---

## üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª `INSTALLATION_GUIDE.md` —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –∏ —Ä–µ—à–µ–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º.

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** INSTALLATION_GUIDE.md
- **–õ–æ–≥–∏ Nextcloud:** `/path/to/nextcloud/data/nextcloud.log`
- **–õ–æ–≥–∏ Apache:** `/var/log/apache2/error.log`

---

**–í–µ—Ä—Å–∏—è:** 1.0.0 | **–î–∞—Ç–∞:** –§–µ–≤—Ä–∞–ª—å 2026 | **–õ–∏—Ü–µ–Ω–∑–∏—è:** AGPL v3
